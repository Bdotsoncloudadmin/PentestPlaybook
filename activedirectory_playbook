Automate Attacking AD
AD Hardening - Reverse Engineer Blue Team Tactics
https://github.com/PaulSec/awesome-windows-domain-hardening

BTA - AD Audit tool
https://github.com/airbus-seclab/bta

BloodHound
https://github.com/BloodHoundAD/BloodHound

PingCastle
https://www.pingcastle.com/

Responder
https://github.com/SpiderLabs/Responder

List of Attacks/Vectors
https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Active%20Directory%20Attack.md#open-shares

Amazing walkthrough
https://book.hacktricks.xyz/pentesting/pentesting-ldap

Pull public info with anonymous creds
Sudo nmap -n -sV --script "ldap* and not brute" <IP>

Pull naming context from DC
sudo ldapsearch -x -h 10.10.236.140 -s basenamingcontext -p 389

Test null credentials
ldapsearch -x -h <IP> -D '' -w '' -b "DC=<1_SUBDOMAIN>,DC=<TDL>"

Check for anonymous rpc access
Rpclient IP -U "" -N
Rpclient IP -U "guest"

List SMB Shares
smbclient -L //IP/ -N

Test anonymous access to share
Smbclient //IP/share
Read file inline
Get Filename -

Tar all files in SMB Share to local (may have to figure out which files to create and whatnot, this came from Ted)
smbclient //127.0.01/shareName -p 445 -N -Tc "$(pwd)/smbResults/$shareName/$shareName.tar";tar xf "$(pwd)/smbResults/$shareName/$shareName.tar" -C "$(pwd)/smbResults/$shareName"
smbclient //10.10.236.140/VulnNet-Enterprise-Anonymous Disk -p 445 -N -Tc "$(pwd)/smbResults/Share1/Share1.tar";tar xf "$(pwd)/smbResults/Share1/Share1.tar" -C "$(pwd)/smbResults/Share1"

